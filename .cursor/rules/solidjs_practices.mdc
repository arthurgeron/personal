---
description: 
globs: *.tsx
alwaysApply: false
---
# SolidJS Best Practices for Arthur Geron's Portfolio

## Reactivity Patterns
- Use signals (`createSignal`) for reactive state like in `ThemeToggle.tsx`
- Never destructure signals or props directly when you need reactivity 
- Access signal values using function syntax: `signalName()`
- Use `createEffect` for side effects in response to signal changes
- For derived values, use `createMemo` to avoid unnecessary recalculations
- Example from the project: `const [theme, setTheme] = createSignal(...)` in ThemeToggle

## Component Implementation
- SolidJS components only run once, not on every update like React
- Handle cleanup properly with `onCleanup` function, as seen in Hero.tsx:
  ```tsx
  onCleanup(() => {
    cancelAnimationFrame(animationFrame);
    window.removeEventListener('resize', resizeCanvas);
  });
  ```
- Use `onMount` for initialization code that runs after component rendering:
  ```tsx
  onMount(() => {
    // initialization code here
  });
  ```

## Performance Optimization
- Leverage lazy loading for route components as done in App.tsx:
  ```tsx
  const Home = lazy(() => import('./pages/Home'));
  ```
- Use `Suspense` to handle loading states for lazy components:
  ```tsx
  <Suspense fallback={<div>Loading...</div>}>
    <Route path="/" component={Home} />
  </Suspense>
  ```
- Canvas animations (as in Hero.tsx) should clean up properly to prevent memory leaks
- CSS transitions are preferred over JavaScript animations for simple UI state changes

## JSX and Component Organization
- Use functional components throughout the application
- Component props should have proper TypeScript interfaces
- Separate concerns: UI components in `components/`, pages in `pages/`
- Keep animation logic encapsulated in specific components or utilities

## Routing
- Use `@solidjs/router` for declarative routing
- Use `<A>` component for navigation links (instead of anchor tags)
- Example:
  ```tsx
  <A href="/projects" class="btn btn-primary btn-lg mr-4">View Projects</A>
  ```

## Animation Integration
- Register GSAP plugins at the component level:
  ```tsx
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  
  gsap.registerPlugin(ScrollTrigger);
  ```
- Cleanup animations in `onCleanup` hook to prevent memory leaks 

## Router Structure and Context
- Router components create a context that must be properly accessible to child components
- Always properly type components that use router primitives with `ParentProps` or appropriate interfaces
- Route components should be direct children of a Router component (already defined in index.tsx)
- Never use `<A>` components or router hooks outside of a proper Router context
- Example of correct Route structure:
  ```tsx
  // In index.tsx
  <Router>
    <App />
  </Router>
  
  // In App.tsx (correct)
  <Route path="/" component={Home} />
  <Route path="/about" component={About} />
  
  // NOT like this (incorrect):
  <Routes>  // <-- SolidJS Router doesn't use a Routes wrapper
    <Route path="/" component={Home} />
  </Routes>
  ```
- Ensure `Layout` components receiving children from router have proper typing:
  ```tsx
  // Correct typing for Layout
  export default function Layout(props: ParentProps<{ className?: string }>) {
    return (
      <div>
        {props.children} // Router-provided children
      </div>
    );
  }
  ```